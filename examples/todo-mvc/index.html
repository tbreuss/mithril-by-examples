<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="4spLhTDINzdede85HIlvHd0YVnKLKeP1Xw4FnIUaT1Q" />
    <title>Todo MVC | Mithril.js by Examples</title>
    <link rel="stylesheet" href="/css/pure-min.css?v=1659384071">
    <link rel="stylesheet" href="/css/grids-responsive-min.css?v=1659384071">
    <link rel="stylesheet" href="/css/styles.css?v=1659384071">
    <link rel="stylesheet" href="/css/highlight/styles/atom-one-dark.min.css?v=1659384071">
    <script src="https://flems.io/flems.html" type="text/javascript" charset="utf-8"></script>
  </head>
  <body>
    <div class="header">
      <div class="container">
        <div class="pure-g custom-wrapper" id="menu">
            <div class="pure-u-1 pure-u-md-1-3">
              <div class="pure-menu">
                <a class="pure-menu-heading custom-brand" href="/"><img src="https://mithril.js.org/logo.svg" alt="">Mithril.js by Examples</a>
                <a href="#" class="custom-toggle" id="toggle"><s class="bar"></s><s class="bar"></s></a>
              </div>
            </div>
            <div class="pure-u-1 pure-u-md-2-3">
                <div class="pure-menu pure-menu-horizontal custom-can-transform">
                    <ul class="pure-menu-list">
                        <li class="pure-menu-item pure-menu-selected"><a class="pure-menu-link" href="/examples/">Examples</a></li>
                        <li class="pure-menu-item"><a class="pure-menu-link" href="/tags/">Tags</a></li>
                        <li class="pure-menu-item"><a class="pure-menu-link" href="/contributors/">Contributors</a></li>
                        <li class="pure-menu-item"><a class="pure-menu-link" href="/search/">Search</a></li>
                      </ul>
                </div>
            </div>
        </div>
    </div>
  </div>
    <div class="container content">
  <div class="pure-g">
      <div class="pure-u-1">

        <h1>Todo MVC</h1>

        <p class="no-margin-bottom">
          <time datetime="2021-10-27">27 October 2021</time><span class="author">
            by&nbsp;<span class="author"><a href="/contributors/mithril/">mithril</a></span>
          </span>
        </p>
        <p class="no-margin-bottom">Level: <span class="level">beginner</span> • Mithril.js Version: <span class="version">latest</span>
        </p>

        <p>
          
          
          <a href="/tags/dom/" class="post-tag">dom</a>
          
          
          <a href="/tags/m.route/" class="post-tag">m.route</a>
          
          
          <a href="/tags/official/" class="post-tag">official</a>
          
          
          <a href="/tags/onbeforeupdate/" class="post-tag">onbeforeupdate</a>
          
          
          <a href="/tags/oninit/" class="post-tag">oninit</a>
          
          
          <a href="/tags/onupdate/" class="post-tag">onupdate</a>
          
          
          <a href="/tags/todomvc/" class="post-tag">todomvc</a>
          
          
          <a href="/tags/vnode/" class="post-tag">vnode</a>
          
        </p>

        <div class="toc">
        <h2 class="toc__heading">Contents</h2>
        <ol class="toc__list"><li class="toc__item"><a clas="toc__link" href="#live-example">Live Example</a></li><li class="toc__item"><a clas="toc__link" href="#dependencies">Dependencies</a></li><li class="toc__item"><a clas="toc__link" href="#javascript">JavaScript</a></li><li class="toc__item"><a clas="toc__link" href="#html">HTML</a></li><li class="toc__item"><a clas="toc__link" href="#base.css">Base.css</a></li><li class="toc__item"><a clas="toc__link" href="#app.css">App.css</a></li><li class="toc__item"><a clas="toc__link" href="#contribute">Contribute</a></li></ol>
    </div>

        <p>This example shows the famous TodoMVC real world application written in Mithril.js.
As a real world example it shows the most used concepts, methods, API, and lifecycle methodes of Mithril.js.
The example was taken from the official website at <a href="https://mithril.js.org/examples.html">https://mithril.js.org/examples.html</a> and slightly modified.</p>

      <h2 id="live-example">Live Example <a class="direct-link" href="#live-example" aria-hidden="true">#</a></h2>
      <div id="flems"></div>
      <script>
      Flems(document.getElementById("flems"), {
        middle: 0,
        resizable: false,
        editable: true,
        toolbar: true,
        autoHeight: false,
        selected: '.js',
        files: [{"name":"app.js","content":"// app.js\n//model\nvar state = {\n\tdispatch: function(action, args) {\n\t\tstate[action].apply(state, args || [])\n\t\trequestAnimationFrame(function() {\n\t\t\tlocalStorage[\"todos-mithril\"] = JSON.stringify(state.todos)\n\t\t})\n\t},\n\n\ttodos: JSON.parse(localStorage[\"todos-mithril\"] || \"[]\"),\n\tediting: null,\n\tfilter: \"\",\n\tremaining: 0,\n\ttodosByStatus: [],\n\n\tcreateTodo: function(title) {\n\t\tstate.todos.push({title: title.trim(), completed: false})\n\t},\n\tsetStatuses: function(completed) {\n\t\tfor (var i = 0; i < state.todos.length; i++) state.todos[i].completed = completed\n\t},\n\tsetStatus: function(todo, completed) {\n\t\ttodo.completed = completed\n\t},\n\tdestroy: function(todo) {\n\t\tvar index = state.todos.indexOf(todo)\n\t\tif (index > -1) state.todos.splice(index, 1)\n\t},\n\tclear: function() {\n\t\tfor (var i = 0; i < state.todos.length; i++) {\n\t\t\tif (state.todos[i].completed) state.destroy(state.todos[i--])\n\t\t}\n\t},\n\n\tedit: function(todo) {\n\t\tstate.editing = todo\n\t},\n\tupdate: function(title) {\n\t\tif (state.editing != null) {\n\t\t\tstate.editing.title = title.trim()\n\t\t\tif (state.editing.title === \"\") state.destroy(state.editing)\n\t\t\tstate.editing = null\n\t\t}\n\t},\n\treset: function() {\n\t\tstate.editing = null\n\t},\n\n\tcomputed: function(vnode) {\n\t\tstate.showing = vnode.attrs.status || \"\"\n\t\tstate.remaining = state.todos.filter(function(todo) {return !todo.completed}).length\n\t\tstate.todosByStatus = state.todos.filter(function(todo) {\n\t\t\tswitch (state.showing) {\n\t\t\t\tcase \"\": return true\n\t\t\t\tcase \"active\": return !todo.completed\n\t\t\t\tcase \"completed\": return todo.completed\n\t\t\t}\n\t\t})\n\t}\n}\n\n//view\nvar Todos = {\n\tadd: function(e) {\n\t\tif (e.keyCode === 13 && e.target.value) {\n\t\t\tstate.dispatch(\"createTodo\", [e.target.value])\n\t\t\te.target.value = \"\"\n\t\t}\n\t},\n\ttoggleAll: function() {\n\t\tstate.dispatch(\"setStatuses\", [document.getElementById(\"toggle-all\").checked])\n\t},\n\ttoggle: function(todo) {\n\t\tstate.dispatch(\"setStatus\", [todo, !todo.completed])\n\t},\n\tfocus: function(vnode, todo) {\n\t\tif (todo === state.editing && vnode.dom !== document.activeElement) {\n\t\t\tvnode.dom.value = todo.title\n\t\t\tvnode.dom.focus()\n\t\t\tvnode.dom.selectionStart = vnode.dom.selectionEnd = todo.title.length\n\t\t}\n\t},\n\tsave: function(e) {\n\t\tif (e.keyCode === 13 || e.type === \"blur\") state.dispatch(\"update\", [e.target.value])\n\t\telse if (e.keyCode === 27) state.dispatch(\"reset\")\n\t},\n\toninit: state.computed,\n\tonbeforeupdate: state.computed,\n\tview: function(vnode) {\n\t\tvar ui = vnode.state\n\t\treturn [\n\t\t\tm(\"header.header\", [\n\t\t\t\tm(\"h1\", \"todos\"),\n\t\t\t\tm(\"input#new-todo[placeholder='What needs to be done?'][autofocus]\", {onkeypress: ui.add}),\n\t\t\t]),\n\t\t\tm(\"section#main\", {style: {display: state.todos.length > 0 ? \"\" : \"none\"}}, [\n\t\t\t\tm(\"input#toggle-all[type='checkbox']\", {checked: state.remaining === 0, onclick: ui.toggleAll}),\n\t\t\t\tm(\"label[for='toggle-all']\", {onclick: ui.toggleAll}, \"Mark all as complete\"),\n\t\t\t\tm(\"ul#todo-list\", [\n\t\t\t\t\tstate.todosByStatus.map(function(todo) {\n\t\t\t\t\t\treturn m(\"li\", {class: (todo.completed ? \"completed\" : \"\") + \" \" + (todo === state.editing ? \"editing\" : \"\")}, [\n\t\t\t\t\t\t\tm(\".view\", [\n\t\t\t\t\t\t\t\tm(\"input.toggle[type='checkbox']\", {checked: todo.completed, onclick: function() {ui.toggle(todo)}}),\n\t\t\t\t\t\t\t\tm(\"label\", {ondblclick: function() {state.dispatch(\"edit\", [todo])}}, todo.title),\n\t\t\t\t\t\t\t\tm(\"button.destroy\", {onclick: function() {state.dispatch(\"destroy\", [todo])}}),\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\tm(\"input.edit\", {onupdate: function(vnode) {ui.focus(vnode, todo)}, onkeyup: ui.save, onblur: ui.save})\n\t\t\t\t\t\t])\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t]),\n\t\t\tstate.todos.length ? m(\"footer#footer\", [\n\t\t\t\tm(\"span#todo-count\", [\n\t\t\t\t\tm(\"strong\", state.remaining),\n\t\t\t\t\tstate.remaining === 1 ? \" item left\" : \" items left\",\n\t\t\t\t]),\n\t\t\t\tm(\"ul#filters\", [\n\t\t\t\t\tm(\"li\", m(m.route.Link, {href: \"/\", class: state.showing === \"\" ? \"selected\" : \"\"}, \"All\")),\n\t\t\t\t\tm(\"li\", m(m.route.Link, {href: \"/active\", class: state.showing === \"active\" ? \"selected\" : \"\"}, \"Active\")),\n\t\t\t\t\tm(\"li\", m(m.route.Link, {href: \"/completed\", class: state.showing === \"completed\" ? \"selected\" : \"\"}, \"Completed\")),\n\t\t\t\t]),\n\t\t\t\tm(\"button#clear-completed\", {onclick: function() {state.dispatch(\"clear\")}}, \"Clear completed\"),\n\t\t\t]) : null,\n\t\t]\n\t}\n}\n\nm.route(document.getElementById(\"todoapp\"), \"/\", {\n\t\"/\": Todos,\n\t\"/:status\": Todos,\n})\n"},{"name":".html","content":"<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>Mithril.js • TodoMVC</title>\n</head>\n<body>\n<section id=\"todoapp\"></section>\n<footer id=\"info\">\n  <p>Double-click to edit a todo</p>\n  <p>Part of <a href=\"https://todomvc.com\">TodoMVC</a></p>\n</footer>\n</body>\n</html>\n"},{"name":"base.css","content":"/* base.css */\nhr {\n\tmargin: 20px 0;\n\tborder: 0;\n\tborder-top: 1px dashed #c5c5c5;\n\tborder-bottom: 1px dashed #f7f7f7;\n}\n\n.learn a {\n\tfont-weight: normal;\n\ttext-decoration: none;\n\tcolor: #b83f45;\n}\n\n.learn a:hover {\n\ttext-decoration: underline;\n\tcolor: #787e7e;\n}\n\n.learn h3,\n.learn h4,\n.learn h5 {\n\tmargin: 10px 0;\n\tfont-weight: 500;\n\tline-height: 1.2;\n\tcolor: #000;\n}\n\n.learn h3 {\n\tfont-size: 24px;\n}\n\n.learn h4 {\n\tfont-size: 18px;\n}\n\n.learn h5 {\n\tmargin-bottom: 0;\n\tfont-size: 14px;\n}\n\n.learn ul {\n\tpadding: 0;\n\tmargin: 0 0 30px 25px;\n}\n\n.learn li {\n\tline-height: 20px;\n}\n\n.learn p {\n\tfont-size: 15px;\n\tfont-weight: 300;\n\tline-height: 1.3;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n}\n\n#issue-count {\n\tdisplay: none;\n}\n\n.quote {\n\tborder: none;\n\tmargin: 20px 0 60px 0;\n}\n\n.quote p {\n\tfont-style: italic;\n}\n\n.quote p:before {\n\tcontent: '“';\n\tfont-size: 50px;\n\topacity: .15;\n\tposition: absolute;\n\ttop: -20px;\n\tleft: 3px;\n}\n\n.quote p:after {\n\tcontent: '”';\n\tfont-size: 50px;\n\topacity: .15;\n\tposition: absolute;\n\tbottom: -42px;\n\tright: 3px;\n}\n\n.quote footer {\n\tposition: absolute;\n\tbottom: -40px;\n\tright: 0;\n}\n\n.quote footer img {\n\tborder-radius: 3px;\n}\n\n.quote footer a {\n\tmargin-left: 5px;\n\tvertical-align: middle;\n}\n\n.speech-bubble {\n\tposition: relative;\n\tpadding: 10px;\n\tbackground: rgba(0, 0, 0, .04);\n\tborder-radius: 5px;\n}\n\n.speech-bubble:after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 100%;\n\tright: 30px;\n\tborder: 13px solid transparent;\n\tborder-top-color: rgba(0, 0, 0, .04);\n}\n\n.learn-bar > .learn {\n\tposition: absolute;\n\twidth: 272px;\n\ttop: 8px;\n\tleft: -300px;\n\tpadding: 10px;\n\tborder-radius: 5px;\n\tbackground-color: rgba(255, 255, 255, .6);\n\ttransition-property: left;\n\ttransition-duration: 500ms;\n}\n\n@media (min-width: 899px) {\n\t.learn-bar {\n\t\twidth: auto;\n\t\tpadding-left: 300px;\n\t}\n\n\t.learn-bar > .learn {\n\t\tleft: 8px;\n\t}\n}\n"},{"name":"app.css","content":"/* app.css */\nhtml,\nbody {\n\tmargin: 0;\n\tpadding: 0;\n}\n\nbutton {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: none;\n\tfont-size: 100%;\n\tvertical-align: baseline;\n\tfont-family: inherit;\n\tfont-weight: inherit;\n\tcolor: inherit;\n\t-webkit-appearance: none;\n\tappearance: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\tfont-smoothing: antialiased;\n}\n\nbody {\n\tfont: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n\tline-height: 1.4em;\n\tbackground: #f5f5f5;\n\tcolor: #4d4d4d;\n\tmin-width: 230px;\n\tmax-width: 550px;\n\tmargin: 0 auto;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\tfont-smoothing: antialiased;\n\tfont-weight: 300;\n}\n\nbutton,\ninput[type=\"checkbox\"] {\n\toutline: none;\n}\n\n.hidden {\n\tdisplay: none;\n}\n\n#todoapp {\n\tbackground: #fff;\n\tmargin: 130px 0 40px 0;\n\tposition: relative;\n\tbox-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),\n\t            0 25px 50px 0 rgba(0, 0, 0, 0.1);\n}\n\n#todoapp input::-webkit-input-placeholder {\n\tfont-style: italic;\n\tfont-weight: 300;\n\tcolor: #e6e6e6;\n}\n\n#todoapp input::-moz-placeholder {\n\tfont-style: italic;\n\tfont-weight: 300;\n\tcolor: #e6e6e6;\n}\n\n#todoapp input::input-placeholder {\n\tfont-style: italic;\n\tfont-weight: 300;\n\tcolor: #e6e6e6;\n}\n\n#todoapp h1 {\n\tposition: absolute;\n\ttop: -155px;\n\twidth: 100%;\n\tfont-size: 100px;\n\tfont-weight: 100;\n\ttext-align: center;\n\tcolor: rgba(175, 47, 47, 0.15);\n\t-webkit-text-rendering: optimizeLegibility;\n\t-moz-text-rendering: optimizeLegibility;\n\ttext-rendering: optimizeLegibility;\n}\n\n#new-todo,\n.edit {\n\tposition: relative;\n\tmargin: 0;\n\twidth: 100%;\n\tfont-size: 24px;\n\tfont-family: inherit;\n\tfont-weight: inherit;\n\tline-height: 1.4em;\n\tborder: 0;\n\toutline: none;\n\tcolor: inherit;\n\tpadding: 6px;\n\tborder: 1px solid #999;\n\tbox-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n\tbox-sizing: border-box;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\tfont-smoothing: antialiased;\n}\n\n#new-todo {\n\tpadding: 16px 16px 16px 60px;\n\tborder: none;\n\tbackground: rgba(0, 0, 0, 0.003);\n\tbox-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);\n}\n\n#main {\n\tposition: relative;\n\tz-index: 2;\n\tborder-top: 1px solid #e6e6e6;\n}\n\nlabel[for='toggle-all'] {\n\tdisplay: none;\n}\n\n#toggle-all {\n\tposition: absolute;\n\ttop: -55px;\n\tleft: -12px;\n\twidth: 60px;\n\theight: 34px;\n\ttext-align: center;\n\tborder: none; /* Mobile Safari */\n}\n\n#toggle-all:before {\n\tcontent: '❯';\n\tfont-size: 22px;\n\tcolor: #e6e6e6;\n\tpadding: 10px 27px 10px 27px;\n}\n\n#toggle-all:checked:before {\n\tcolor: #737373;\n}\n\n#todo-list {\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none;\n}\n\n#todo-list li {\n\tposition: relative;\n\tfont-size: 24px;\n\tborder-bottom: 1px solid #ededed;\n}\n\n#todo-list li:last-child {\n\tborder-bottom: none;\n}\n\n#todo-list li.editing {\n\tborder-bottom: none;\n\tpadding: 0;\n}\n\n#todo-list li.editing .edit {\n\tdisplay: block;\n\twidth: 506px;\n\tpadding: 13px 17px 12px 17px;\n\tmargin: 0 0 0 43px;\n}\n\n#todo-list li.editing .view {\n\tdisplay: none;\n}\n\n#todo-list li .toggle {\n\ttext-align: center;\n\twidth: 40px;\n\t/* auto, since non-WebKit browsers doesn't support input styling */\n\theight: auto;\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tmargin: auto 0;\n\tborder: none; /* Mobile Safari */\n\t-webkit-appearance: none;\n\tappearance: none;\n}\n\n#todo-list li .toggle:after {\n\tcontent: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"-10 -18 100 135\"><circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"none\" stroke=\"#ededed\" stroke-width=\"3\"/></svg>');\n}\n\n#todo-list li .toggle:checked:after {\n\tcontent: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"-10 -18 100 135\"><circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"none\" stroke=\"#bddad5\" stroke-width=\"3\"/><path fill=\"#5dc2af\" d=\"M72 25L42 71 27 56l-4 4 20 20 34-52z\"/></svg>');\n}\n\n#todo-list li label {\n\twhite-space: pre;\n\tword-break: break-word;\n\tpadding: 15px 60px 15px 15px;\n\tmargin-left: 45px;\n\tdisplay: block;\n\tline-height: 1.2;\n\ttransition: color 0.4s;\n}\n\n#todo-list li.completed label {\n\tcolor: #d9d9d9;\n\ttext-decoration: line-through;\n}\n\n#todo-list li .destroy {\n\tdisplay: none;\n\tposition: absolute;\n\ttop: 0;\n\tright: 10px;\n\tbottom: 0;\n\twidth: 40px;\n\theight: 40px;\n\tmargin: auto 0;\n\tfont-size: 30px;\n\tcolor: #cc9a9a;\n\tmargin-bottom: 11px;\n\ttransition: color 0.2s ease-out;\n}\n\n#todo-list li .destroy:hover {\n\tcolor: #af5b5e;\n}\n\n#todo-list li .destroy:after {\n\tcontent: '×';\n}\n\n#todo-list li:hover .destroy {\n\tdisplay: block;\n}\n\n#todo-list li .edit {\n\tdisplay: none;\n}\n\n#todo-list li.editing:last-child {\n\tmargin-bottom: -1px;\n}\n\n#footer {\n\tcolor: #777;\n\tpadding: 10px 15px;\n\theight: 20px;\n\ttext-align: center;\n\tborder-top: 1px solid #e6e6e6;\n}\n\n#footer:before {\n\tcontent: '';\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\theight: 50px;\n\toverflow: hidden;\n\tbox-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\n\t            0 8px 0 -3px #f6f6f6,\n\t            0 9px 1px -3px rgba(0, 0, 0, 0.2),\n\t            0 16px 0 -6px #f6f6f6,\n\t            0 17px 2px -6px rgba(0, 0, 0, 0.2);\n}\n\n#todo-count {\n\tfloat: left;\n\ttext-align: left;\n}\n\n#todo-count strong {\n\tfont-weight: 300;\n}\n\n#filters {\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none;\n\tposition: absolute;\n\tright: 0;\n\tleft: 0;\n}\n\n#filters li {\n\tdisplay: inline;\n}\n\n#filters li a {\n\tcolor: inherit;\n\tmargin: 3px;\n\tpadding: 3px 7px;\n\ttext-decoration: none;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n}\n\n#filters li a.selected,\n#filters li a:hover {\n\tborder-color: rgba(175, 47, 47, 0.1);\n}\n\n#filters li a.selected {\n\tborder-color: rgba(175, 47, 47, 0.2);\n}\n\n#clear-completed,\nhtml #clear-completed:active {\n\tfloat: right;\n\tposition: relative;\n\tline-height: 20px;\n\ttext-decoration: none;\n\tcursor: pointer;\n\tposition: relative;\n}\n\n#clear-completed:hover {\n\ttext-decoration: underline;\n}\n\n#info {\n\tmargin: 65px auto 0;\n\tcolor: #bfbfbf;\n\tfont-size: 10px;\n\ttext-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n\ttext-align: center;\n}\n\n#info p {\n\tline-height: 1;\n}\n\n#info a {\n\tcolor: inherit;\n\ttext-decoration: none;\n\tfont-weight: 400;\n}\n\n#info a:hover {\n\ttext-decoration: underline;\n}\n\n/*\n\tHack to remove background from Mobile Safari.\n\tCan't use it globally since it destroys checkboxes in Firefox\n*/\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n\t#toggle-all,\n\t#todo-list li .toggle {\n\t\tbackground: none;\n\t}\n\n\t#todo-list li .toggle {\n\t\theight: 40px;\n\t}\n\n\t#toggle-all {\n\t\t-webkit-transform: rotate(90deg);\n\t\ttransform: rotate(90deg);\n\t\t-webkit-appearance: none;\n\t\tappearance: none;\n\t}\n}\n\n@media (max-width: 430px) {\n\t#footer {\n\t\theight: 50px;\n\t}\n\n\t#filters {\n\t\tbottom: 10px;\n\t}\n}\n"}],
        links: [{"name":"mithril@latest","type":"script","url":"https://unpkg.com/mithril@latest"}]
      });
      </script>
    
        <div class="dependencies">
          <h2 id="dependencies" class="dependencies__heading" tabindex="-1">Dependencies <a class="direct-link" href="#dependencies" aria-hidden="true">#</a></h2>
          <div class="dependencies__tableWrap">
            <table class="dependencies__table dependencies__table--1">
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Name</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td class="capitalize">script</td><td>mithril@latest</td><td>https://unpkg.com/mithril@latest</td></tr>
                </tbody>
            </table>
          </div>
        </div>
      <h2 id="javascript" tabindex="-1">JavaScript <a class="direct-link" href="#javascript" aria-hidden="true">#</a></h2>
<pre><code class="language-js">// app.js
//model
var state = {
	dispatch: function(action, args) {
		state[action].apply(state, args || [])
		requestAnimationFrame(function() {
			localStorage[&quot;todos-mithril&quot;] = JSON.stringify(state.todos)
		})
	},

	todos: JSON.parse(localStorage[&quot;todos-mithril&quot;] || &quot;[]&quot;),
	editing: null,
	filter: &quot;&quot;,
	remaining: 0,
	todosByStatus: [],

	createTodo: function(title) {
		state.todos.push({title: title.trim(), completed: false})
	},
	setStatuses: function(completed) {
		for (var i = 0; i &lt; state.todos.length; i++) state.todos[i].completed = completed
	},
	setStatus: function(todo, completed) {
		todo.completed = completed
	},
	destroy: function(todo) {
		var index = state.todos.indexOf(todo)
		if (index &gt; -1) state.todos.splice(index, 1)
	},
	clear: function() {
		for (var i = 0; i &lt; state.todos.length; i++) {
			if (state.todos[i].completed) state.destroy(state.todos[i--])
		}
	},

	edit: function(todo) {
		state.editing = todo
	},
	update: function(title) {
		if (state.editing != null) {
			state.editing.title = title.trim()
			if (state.editing.title === &quot;&quot;) state.destroy(state.editing)
			state.editing = null
		}
	},
	reset: function() {
		state.editing = null
	},

	computed: function(vnode) {
		state.showing = vnode.attrs.status || &quot;&quot;
		state.remaining = state.todos.filter(function(todo) {return !todo.completed}).length
		state.todosByStatus = state.todos.filter(function(todo) {
			switch (state.showing) {
				case &quot;&quot;: return true
				case &quot;active&quot;: return !todo.completed
				case &quot;completed&quot;: return todo.completed
			}
		})
	}
}

//view
var Todos = {
	add: function(e) {
		if (e.keyCode === 13 &amp;&amp; e.target.value) {
			state.dispatch(&quot;createTodo&quot;, [e.target.value])
			e.target.value = &quot;&quot;
		}
	},
	toggleAll: function() {
		state.dispatch(&quot;setStatuses&quot;, [document.getElementById(&quot;toggle-all&quot;).checked])
	},
	toggle: function(todo) {
		state.dispatch(&quot;setStatus&quot;, [todo, !todo.completed])
	},
	focus: function(vnode, todo) {
		if (todo === state.editing &amp;&amp; vnode.dom !== document.activeElement) {
			vnode.dom.value = todo.title
			vnode.dom.focus()
			vnode.dom.selectionStart = vnode.dom.selectionEnd = todo.title.length
		}
	},
	save: function(e) {
		if (e.keyCode === 13 || e.type === &quot;blur&quot;) state.dispatch(&quot;update&quot;, [e.target.value])
		else if (e.keyCode === 27) state.dispatch(&quot;reset&quot;)
	},
	oninit: state.computed,
	onbeforeupdate: state.computed,
	view: function(vnode) {
		var ui = vnode.state
		return [
			m(&quot;header.header&quot;, [
				m(&quot;h1&quot;, &quot;todos&quot;),
				m(&quot;input#new-todo[placeholder='What needs to be done?'][autofocus]&quot;, {onkeypress: ui.add}),
			]),
			m(&quot;section#main&quot;, {style: {display: state.todos.length &gt; 0 ? &quot;&quot; : &quot;none&quot;}}, [
				m(&quot;input#toggle-all[type='checkbox']&quot;, {checked: state.remaining === 0, onclick: ui.toggleAll}),
				m(&quot;label[for='toggle-all']&quot;, {onclick: ui.toggleAll}, &quot;Mark all as complete&quot;),
				m(&quot;ul#todo-list&quot;, [
					state.todosByStatus.map(function(todo) {
						return m(&quot;li&quot;, {class: (todo.completed ? &quot;completed&quot; : &quot;&quot;) + &quot; &quot; + (todo === state.editing ? &quot;editing&quot; : &quot;&quot;)}, [
							m(&quot;.view&quot;, [
								m(&quot;input.toggle[type='checkbox']&quot;, {checked: todo.completed, onclick: function() {ui.toggle(todo)}}),
								m(&quot;label&quot;, {ondblclick: function() {state.dispatch(&quot;edit&quot;, [todo])}}, todo.title),
								m(&quot;button.destroy&quot;, {onclick: function() {state.dispatch(&quot;destroy&quot;, [todo])}}),
							]),
							m(&quot;input.edit&quot;, {onupdate: function(vnode) {ui.focus(vnode, todo)}, onkeyup: ui.save, onblur: ui.save})
						])
					}),
				]),
			]),
			state.todos.length ? m(&quot;footer#footer&quot;, [
				m(&quot;span#todo-count&quot;, [
					m(&quot;strong&quot;, state.remaining),
					state.remaining === 1 ? &quot; item left&quot; : &quot; items left&quot;,
				]),
				m(&quot;ul#filters&quot;, [
					m(&quot;li&quot;, m(m.route.Link, {href: &quot;/&quot;, class: state.showing === &quot;&quot; ? &quot;selected&quot; : &quot;&quot;}, &quot;All&quot;)),
					m(&quot;li&quot;, m(m.route.Link, {href: &quot;/active&quot;, class: state.showing === &quot;active&quot; ? &quot;selected&quot; : &quot;&quot;}, &quot;Active&quot;)),
					m(&quot;li&quot;, m(m.route.Link, {href: &quot;/completed&quot;, class: state.showing === &quot;completed&quot; ? &quot;selected&quot; : &quot;&quot;}, &quot;Completed&quot;)),
				]),
				m(&quot;button#clear-completed&quot;, {onclick: function() {state.dispatch(&quot;clear&quot;)}}, &quot;Clear completed&quot;),
			]) : null,
		]
	}
}

m.route(document.getElementById(&quot;todoapp&quot;), &quot;/&quot;, {
	&quot;/&quot;: Todos,
	&quot;/:status&quot;: Todos,
})
</code></pre>
<h2 id="html" tabindex="-1">HTML <a class="direct-link" href="#html" aria-hidden="true">#</a></h2>
<pre><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;Mithril.js • TodoMVC&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;section id=&quot;todoapp&quot;&gt;&lt;/section&gt;
&lt;footer id=&quot;info&quot;&gt;
  &lt;p&gt;Double-click to edit a todo&lt;/p&gt;
  &lt;p&gt;Part of &lt;a href=&quot;https://todomvc.com&quot;&gt;TodoMVC&lt;/a&gt;&lt;/p&gt;
&lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="base.css" tabindex="-1">Base.css <a class="direct-link" href="#base.css" aria-hidden="true">#</a></h2>
<pre><code class="language-css">/* base.css */
hr {
	margin: 20px 0;
	border: 0;
	border-top: 1px dashed #c5c5c5;
	border-bottom: 1px dashed #f7f7f7;
}

.learn a {
	font-weight: normal;
	text-decoration: none;
	color: #b83f45;
}

.learn a:hover {
	text-decoration: underline;
	color: #787e7e;
}

.learn h3,
.learn h4,
.learn h5 {
	margin: 10px 0;
	font-weight: 500;
	line-height: 1.2;
	color: #000;
}

.learn h3 {
	font-size: 24px;
}

.learn h4 {
	font-size: 18px;
}

.learn h5 {
	margin-bottom: 0;
	font-size: 14px;
}

.learn ul {
	padding: 0;
	margin: 0 0 30px 25px;
}

.learn li {
	line-height: 20px;
}

.learn p {
	font-size: 15px;
	font-weight: 300;
	line-height: 1.3;
	margin-top: 0;
	margin-bottom: 0;
}

#issue-count {
	display: none;
}

.quote {
	border: none;
	margin: 20px 0 60px 0;
}

.quote p {
	font-style: italic;
}

.quote p:before {
	content: '“';
	font-size: 50px;
	opacity: .15;
	position: absolute;
	top: -20px;
	left: 3px;
}

.quote p:after {
	content: '”';
	font-size: 50px;
	opacity: .15;
	position: absolute;
	bottom: -42px;
	right: 3px;
}

.quote footer {
	position: absolute;
	bottom: -40px;
	right: 0;
}

.quote footer img {
	border-radius: 3px;
}

.quote footer a {
	margin-left: 5px;
	vertical-align: middle;
}

.speech-bubble {
	position: relative;
	padding: 10px;
	background: rgba(0, 0, 0, .04);
	border-radius: 5px;
}

.speech-bubble:after {
	content: '';
	position: absolute;
	top: 100%;
	right: 30px;
	border: 13px solid transparent;
	border-top-color: rgba(0, 0, 0, .04);
}

.learn-bar &gt; .learn {
	position: absolute;
	width: 272px;
	top: 8px;
	left: -300px;
	padding: 10px;
	border-radius: 5px;
	background-color: rgba(255, 255, 255, .6);
	transition-property: left;
	transition-duration: 500ms;
}

@media (min-width: 899px) {
	.learn-bar {
		width: auto;
		padding-left: 300px;
	}

	.learn-bar &gt; .learn {
		left: 8px;
	}
}
</code></pre>
<h2 id="app.css" tabindex="-1">App.css <a class="direct-link" href="#app.css" aria-hidden="true">#</a></h2>
<pre><code class="language-css">/* app.css */
html,
body {
	margin: 0;
	padding: 0;
}

button {
	margin: 0;
	padding: 0;
	border: 0;
	background: none;
	font-size: 100%;
	vertical-align: baseline;
	font-family: inherit;
	font-weight: inherit;
	color: inherit;
	-webkit-appearance: none;
	appearance: none;
	-webkit-font-smoothing: antialiased;
	-moz-font-smoothing: antialiased;
	font-smoothing: antialiased;
}

body {
	font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;
	line-height: 1.4em;
	background: #f5f5f5;
	color: #4d4d4d;
	min-width: 230px;
	max-width: 550px;
	margin: 0 auto;
	-webkit-font-smoothing: antialiased;
	-moz-font-smoothing: antialiased;
	font-smoothing: antialiased;
	font-weight: 300;
}

button,
input[type=&quot;checkbox&quot;] {
	outline: none;
}

.hidden {
	display: none;
}

#todoapp {
	background: #fff;
	margin: 130px 0 40px 0;
	position: relative;
	box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),
	            0 25px 50px 0 rgba(0, 0, 0, 0.1);
}

#todoapp input::-webkit-input-placeholder {
	font-style: italic;
	font-weight: 300;
	color: #e6e6e6;
}

#todoapp input::-moz-placeholder {
	font-style: italic;
	font-weight: 300;
	color: #e6e6e6;
}

#todoapp input::input-placeholder {
	font-style: italic;
	font-weight: 300;
	color: #e6e6e6;
}

#todoapp h1 {
	position: absolute;
	top: -155px;
	width: 100%;
	font-size: 100px;
	font-weight: 100;
	text-align: center;
	color: rgba(175, 47, 47, 0.15);
	-webkit-text-rendering: optimizeLegibility;
	-moz-text-rendering: optimizeLegibility;
	text-rendering: optimizeLegibility;
}

#new-todo,
.edit {
	position: relative;
	margin: 0;
	width: 100%;
	font-size: 24px;
	font-family: inherit;
	font-weight: inherit;
	line-height: 1.4em;
	border: 0;
	outline: none;
	color: inherit;
	padding: 6px;
	border: 1px solid #999;
	box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);
	box-sizing: border-box;
	-webkit-font-smoothing: antialiased;
	-moz-font-smoothing: antialiased;
	font-smoothing: antialiased;
}

#new-todo {
	padding: 16px 16px 16px 60px;
	border: none;
	background: rgba(0, 0, 0, 0.003);
	box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);
}

#main {
	position: relative;
	z-index: 2;
	border-top: 1px solid #e6e6e6;
}

label[for='toggle-all'] {
	display: none;
}

#toggle-all {
	position: absolute;
	top: -55px;
	left: -12px;
	width: 60px;
	height: 34px;
	text-align: center;
	border: none; /* Mobile Safari */
}

#toggle-all:before {
	content: '❯';
	font-size: 22px;
	color: #e6e6e6;
	padding: 10px 27px 10px 27px;
}

#toggle-all:checked:before {
	color: #737373;
}

#todo-list {
	margin: 0;
	padding: 0;
	list-style: none;
}

#todo-list li {
	position: relative;
	font-size: 24px;
	border-bottom: 1px solid #ededed;
}

#todo-list li:last-child {
	border-bottom: none;
}

#todo-list li.editing {
	border-bottom: none;
	padding: 0;
}

#todo-list li.editing .edit {
	display: block;
	width: 506px;
	padding: 13px 17px 12px 17px;
	margin: 0 0 0 43px;
}

#todo-list li.editing .view {
	display: none;
}

#todo-list li .toggle {
	text-align: center;
	width: 40px;
	/* auto, since non-WebKit browsers doesn't support input styling */
	height: auto;
	position: absolute;
	top: 0;
	bottom: 0;
	margin: auto 0;
	border: none; /* Mobile Safari */
	-webkit-appearance: none;
	appearance: none;
}

#todo-list li .toggle:after {
	content: url('data:image/svg+xml;utf8,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;40&quot; height=&quot;40&quot; viewBox=&quot;-10 -18 100 135&quot;&gt;&lt;circle cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;50&quot; fill=&quot;none&quot; stroke=&quot;#ededed&quot; stroke-width=&quot;3&quot;/&gt;&lt;/svg&gt;');
}

#todo-list li .toggle:checked:after {
	content: url('data:image/svg+xml;utf8,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;40&quot; height=&quot;40&quot; viewBox=&quot;-10 -18 100 135&quot;&gt;&lt;circle cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;50&quot; fill=&quot;none&quot; stroke=&quot;#bddad5&quot; stroke-width=&quot;3&quot;/&gt;&lt;path fill=&quot;#5dc2af&quot; d=&quot;M72 25L42 71 27 56l-4 4 20 20 34-52z&quot;/&gt;&lt;/svg&gt;');
}

#todo-list li label {
	white-space: pre;
	word-break: break-word;
	padding: 15px 60px 15px 15px;
	margin-left: 45px;
	display: block;
	line-height: 1.2;
	transition: color 0.4s;
}

#todo-list li.completed label {
	color: #d9d9d9;
	text-decoration: line-through;
}

#todo-list li .destroy {
	display: none;
	position: absolute;
	top: 0;
	right: 10px;
	bottom: 0;
	width: 40px;
	height: 40px;
	margin: auto 0;
	font-size: 30px;
	color: #cc9a9a;
	margin-bottom: 11px;
	transition: color 0.2s ease-out;
}

#todo-list li .destroy:hover {
	color: #af5b5e;
}

#todo-list li .destroy:after {
	content: '×';
}

#todo-list li:hover .destroy {
	display: block;
}

#todo-list li .edit {
	display: none;
}

#todo-list li.editing:last-child {
	margin-bottom: -1px;
}

#footer {
	color: #777;
	padding: 10px 15px;
	height: 20px;
	text-align: center;
	border-top: 1px solid #e6e6e6;
}

#footer:before {
	content: '';
	position: absolute;
	right: 0;
	bottom: 0;
	left: 0;
	height: 50px;
	overflow: hidden;
	box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),
	            0 8px 0 -3px #f6f6f6,
	            0 9px 1px -3px rgba(0, 0, 0, 0.2),
	            0 16px 0 -6px #f6f6f6,
	            0 17px 2px -6px rgba(0, 0, 0, 0.2);
}

#todo-count {
	float: left;
	text-align: left;
}

#todo-count strong {
	font-weight: 300;
}

#filters {
	margin: 0;
	padding: 0;
	list-style: none;
	position: absolute;
	right: 0;
	left: 0;
}

#filters li {
	display: inline;
}

#filters li a {
	color: inherit;
	margin: 3px;
	padding: 3px 7px;
	text-decoration: none;
	border: 1px solid transparent;
	border-radius: 3px;
}

#filters li a.selected,
#filters li a:hover {
	border-color: rgba(175, 47, 47, 0.1);
}

#filters li a.selected {
	border-color: rgba(175, 47, 47, 0.2);
}

#clear-completed,
html #clear-completed:active {
	float: right;
	position: relative;
	line-height: 20px;
	text-decoration: none;
	cursor: pointer;
	position: relative;
}

#clear-completed:hover {
	text-decoration: underline;
}

#info {
	margin: 65px auto 0;
	color: #bfbfbf;
	font-size: 10px;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	text-align: center;
}

#info p {
	line-height: 1;
}

#info a {
	color: inherit;
	text-decoration: none;
	font-weight: 400;
}

#info a:hover {
	text-decoration: underline;
}

/*
	Hack to remove background from Mobile Safari.
	Can't use it globally since it destroys checkboxes in Firefox
*/
@media screen and (-webkit-min-device-pixel-ratio:0) {
	#toggle-all,
	#todo-list li .toggle {
		background: none;
	}

	#todo-list li .toggle {
		height: 40px;
	}

	#toggle-all {
		-webkit-transform: rotate(90deg);
		transform: rotate(90deg);
		-webkit-appearance: none;
		appearance: none;
	}
}

@media (max-width: 430px) {
	#footer {
		height: 50px;
	}

	#filters {
		bottom: 10px;
	}
}
</code></pre>
<p>As a prerequisite for this snippet, the latest version of Mithril.js framework is required.
Beginners should have no problems following this example, that simply shows some basic recipies.</p>
<p>In this code sample Mithril.js' <code>m.route</code> <a href="/api-methods/">API method</a> is use, besides the basic hyperscript function m().
Moreover, it can also be seen how <a href="/lifecycle-methods/">lifecycle methods</a> (as known as hooks) like <code>onbeforeupdate</code>, <code>onupdate</code> and <code>oninit</code> can be used.
Also covered in this example is the use of Vnodes or virtual DOM nodes, a JavaScript data structure that describes a DOM tree.</p>
<p>The example was written by mithril, last edits were made on 27 October 2021.
The author has contributed some more snippets. <a href="/contributors/mithril/">Click here</a> to see them all.</p>


        <h2 id="contribute" tabindex="-1">Contribute <a class="direct-link" href="#contribute" aria-hidden="true">#</a></h2>
<p>Did you note a typo or something else? So let me know by <a href="https://github.com/tbreuss/mithril-by-examples/issues">opening an issue</a>.
Or much better: just fork the repository on GitHub, push your commits and send a pull request.
Ready to start your work? Then click on the edit link below. Thanks in advance!</p>


        <p style="margin-top:3.2rem;">
          <a href="/examples/">See more code examples</a>
          &nbsp;•&nbsp; <a target="_blank" href="https://github.com/tbreuss/mithril-by-examples/blob/main/./examples/todo-mvc.md">Edit this example on GitHub</a>
        </p>

    </div>
  </div>
</div>

    <div class="footer">
      <div class="container">
          <div class="pure-g">
              <div class="pure-u-1 pure-u-md-3-5 footer-about">
                  <h3 class="footer-about__heading">Mithril.js by Examples</h3>
                  <p class="footer-about__text">The missing addition to Mithril.js' website with many up-to-date code examples that are often searched for and just work.</p>
              </div>
              <div class="pure-u-1-2 pure-u-md-1-5 footer-tools">
                <h3 class="footer-tools__heading">Toolset</h3>
                <ul class="footer-tools__list">
                    <li><a target="_blank" href="https://www.11ty.dev">Eleventy</a></li>
                    <li><a target="_blank" href="http://purecss.io">Pure.css</a></li>
                    <li><a target="_blank" href="https://flems.io">Flems.io</a></li>
                    <li><a target="_blank" href="http://mithril.js.org">Mithril.js</a></li>
                </ul>
            </div>
              <div class="pure-u-1-2 pure-u-md-1-5 footer-links">
                  <h3 class="footer-links__heading">Links</h3>
                  <ul class="footer-links__list">
                      <li><a href="/about/">About this website</a></li>
                      <li><a target="_blank" href="https://github.com/tbreuss/mithril-by-examples">GitHub Repository</a></li>
                  </ul>
              </div>
          </div>
          <hr class="footer-ruler">
          <div class="pure-g">
              <div class="pure-u-1 footer-copyright">
                  A tiny <a target="_blank" href="https://www.tebe.ch">tebe.ch</a> project
              </div>
          </div>
      </div>
  </div>
  <!-- Current page: /examples/todo-mvc/ -->
  </body>
  <script src="/css/highlight/highlight.min.js?v=1659384071"></script>
  <script src="/js/main.js?v=1659384071"></script>
</html>
